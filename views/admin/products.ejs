<%- include('../partials/header') %>

<section class="admin-section" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); min-height: 100vh; padding: 50px 0;">
  <div class="admin-card">
    <h1>Manage Products</h1>
    <a href="/admin/products/add" class="btn btn-primary">➕ Add New Product</a>

    <% if (products && products.length > 0) { %>
      <div class="table-responsive">
        <table class="admin-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Price</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% products.forEach((product, index) => { %>
              <tr>
                <td><%= index + 1 %></td>
                <td><%= product.name %></td>
                <td>₹<%= product.price %></td>
                <td>
                  <a href="/admin/products/edit/<%= product._id %>" class="btn btn-primary btn-small">Edit</a>
                  <form action="/admin/products/delete/<%= product._id %>" method="POST" style="display:inline;">
                    <button type="submit" class="btn btn-secondary btn-small">Delete</button>
                  </form>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    <% } else { %>
      <p>No products available.</p>
    <% } %>
  </div>
</section>

<%- include('../partials/footer') %>
